(this["webpackJsonpsingers-songs-search"]=this["webpackJsonpsingers-songs-search"]||[]).push([[0],{116:function(e,c,t){"use strict";t.r(c);var r=t(2),s=t.n(r),n=t(28),a=t.n(n),i=(t(34),t(35),t(4)),l=t(6),o=t.n(l),j=t(9),d=function(e,c){var t=Object(r.useRef)(!0),s=Object(r.useState)({data:{},loading:!1,error:null}),n=Object(i.a)(s,2),a=n[0],l=n[1];return Object(r.useEffect)((function(){return function(){t.current=!1}}),[]),Object(r.useEffect)((function(){""!==e&&""!==c&&(l({data:{},loading:!0,error:null}),function(){var r=Object(j.a)(o.a.mark((function r(){var s,n,a,d,b,u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s=function(){var c=Object(j.a)(o.a.mark((function c(){var t,r;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("https://www.theaudiodb.com/api/v1/json/1/search.php?s=".concat(encodeURI(e)));case 2:return t=c.sent,c.next=5,t.json();case 5:return r=c.sent,c.abrupt("return",r);case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),n=function(){var t=Object(j.a)(o.a.mark((function t(){var r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.lyrics.ovh/v1/".concat(encodeURI(e),"/").concat(encodeURI(c)));case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.next=5,Promise.all([s(),n()]);case 5:a=r.sent,d=Object(i.a)(a,2),b=d[0],u=d[1],b.artists?u.error||""===u.lyrics?t.current&&l({data:{},loading:!1,error:"No se pudo obtener la canci\xf3n."}):t.current&&l({data:{lyricSong:u.lyrics,infoArtist:b.artists[0]},loading:!1,error:null}):t.current&&l({data:{},loading:!1,error:"No se pudo obtener el artista."}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),l({data:{},loading:!1,error:r.t0});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(){return r.apply(this,arguments)}}()())}),[e,c]),a},b=t(0),u=function(e){var c=e.singer,t=e.song;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container-error",children:[Object(b.jsx)("p",{children:"No se obtuvieron resultados para:"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Artista ",Object(b.jsx)("span",{children:c})]}),Object(b.jsxs)("li",{children:["Canci\xf3n ",Object(b.jsx)("span",{children:t})]})]})]})})},h=function(){return Object(b.jsx)("div",{className:"container-loading",children:Object(b.jsxs)("div",{className:"sk-circle",children:[Object(b.jsx)("div",{className:"sk-circle1 sk-child"}),Object(b.jsx)("div",{className:"sk-circle2 sk-child"}),Object(b.jsx)("div",{className:"sk-circle3 sk-child"}),Object(b.jsx)("div",{className:"sk-circle4 sk-child"}),Object(b.jsx)("div",{className:"sk-circle5 sk-child"}),Object(b.jsx)("div",{className:"sk-circle6 sk-child"}),Object(b.jsx)("div",{className:"sk-circle7 sk-child"}),Object(b.jsx)("div",{className:"sk-circle8 sk-child"}),Object(b.jsx)("div",{className:"sk-circle9 sk-child"}),Object(b.jsx)("div",{className:"sk-circle10 sk-child"}),Object(b.jsx)("div",{className:"sk-circle11 sk-child"}),Object(b.jsx)("div",{className:"sk-circle12 sk-child"})]})})},m=t(5),O=t.n(m),x=t(29),v=t(14),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=Object(r.useState)(e),t=Object(i.a)(c,2),s=t[0],n=t[1],a=function(e){n(Object(v.a)(Object(v.a)({},s),{},Object(x.a)({},e.target.name,e.target.value)))},l=function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;n(c)};return[s,a,l]},g=function(e,c){return e.trim().length<2||O.a.isEmpty(e)||!O.a.isAlpha(e,["es-ES"],{ignore:" 1234567890"})||c.trim().length<2||O.a.isEmpty(c)||!O.a.isAlpha(c,["es-ES"],{ignore:" 1234567890"})?{errorSingersSongs:"Todos los campos son obligatorios.",isValid:!1}:{errorSingersSongs:null,isValid:!0}},p=function(e){var c=e.error,t=e.handleInputChange,r=e.label,s=e.name,n=e.placeholder,a=e.value;return Object(b.jsx)("div",{className:"col-md-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:s,className:"form-label",children:r}),Object(b.jsx)("input",{type:"text",className:"form-control ".concat(c&&"is-invalid"),id:s,name:s,onChange:t,placeholder:n,value:a}),Object(b.jsx)("div",{className:"invalid-feedback",children:c})]})})},N=s.a.memo((function(e){var c=e.disabled;return Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary btn-submit",disabled:c,children:"BUSCAR"})})})})),k=s.a.memo((function(e){var c=e.title;return Object(b.jsx)("legend",{className:"text-center",children:c})})),w=function(e){var c=e.containerForm,t=e.setSearch,s=f({singer:"",song:""}),n=Object(i.a)(s,3),a=n[0],l=n[1],o=n[2],j=a.singer,d=a.song,u=Object(r.useState)(null),h=Object(i.a)(u,2),m=h[0],x=h[1],v=Object(r.useState)(!1),w=Object(i.a)(v,2),y=w[0],S=w[1];return Object(b.jsx)("div",{className:"bg-secondary",ref:c,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("form",{className:"col card text-white bg-transparent mb-2 pt-5 pb-2",autoComplete:"off",onSubmit:function(e){e.preventDefault(),S(!0);var c=O.a.escape(j),r=O.a.escape(d),s=g(c,r),n=s.errorSingersSongs,a=s.isValid;x(n),a&&(t({singer:c,song:r}),o()),S(!1)},children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)(k,{title:"ARTISTAS Y CANCIONES"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(p,{name:"singer",label:"Artista",placeholder:"Buscar artista...",value:j,handleInputChange:l,error:m||""}),Object(b.jsx)(p,{name:"song",label:"Canci\xf3n",placeholder:"Buscar canci\xf3n...",value:d,handleInputChange:l,error:m||""})]}),Object(b.jsx)(N,{disabled:y})]})})})})})},y=function(e){var c=e.enBiopic,t=e.esBiopic,r=e.genre,s=e.image,n=e.name;return Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("img",{src:s,alt:n}),Object(b.jsxs)("p",{className:"card-text",children:["G\xe9nero: ",r]}),Object(b.jsxs)("h3",{children:["Biograf\xeda de ",n]}),Object(b.jsx)("p",{className:"card-text text-justify biopic",children:t||c})]})},S=function(e){var c=e.facebook,t=e.twitter;return Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row text-center",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("a",{href:"https://".concat(c),target:"_blank",rel:"noopener noreferrer",className:"icon",children:Object(b.jsx)("i",{className:"fab fa-facebook"})})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",className:"icon",children:Object(b.jsx)("i",{className:"fab fa-twitter"})})})]})})},A=function(e){var c=e.singer,t=c.strArtist,r=c.strArtistThumb,s=c.strBiographyEN,n=c.strBiographyES,a=c.strFacebook,i=c.strGenre,l=c.strTwitter;return Object(b.jsx)("div",{className:"col-md-6",children:Object(b.jsxs)("div",{className:"card border-light",children:[Object(b.jsx)("div",{className:"card-header bg-primary text-light font-weight-bold",children:"Informaci\xf3n del artista"}),Object(b.jsx)(y,{enBiopic:s,esBiopic:n||"",genre:i,image:r,name:t}),a&&l&&Object(b.jsx)(S,{facebook:a,twitter:l})]})})},B=function(e){var c=e.song;return Object(b.jsxs)("div",{className:"col-md-6",children:[Object(b.jsx)("h2",{children:"Letra de la canci\xf3n"}),Object(b.jsx)("p",{className:"lyric",children:c})]})},C=function(e){var c=e.containerForm;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(b.jsx)("button",{className:"btn btn-primary search-again",onClick:function(){c.current.scrollIntoView({behavior:"smooth"})},children:"Volver a buscar"})})})})},I=function(){var e=Object(r.useRef)(),c=Object(r.useState)({singer:"",song:""}),t=Object(i.a)(c,2),s=t[0],n=t[1],a=s.singer,l=s.song,o=d(a,l),j=o.data,m=o.loading,O=o.error,x=j.lyricSong,v=j.infoArtist;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{setSearch:n,containerForm:e}),m&&Object(b.jsx)(h,{}),O&&Object(b.jsx)(u,{singer:a,song:l}),x&&v&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container mt-4",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(A,{singer:v}),Object(b.jsx)(B,{song:x})]})}),Object(b.jsx)(C,{containerForm:e})]})]})};a.a.render(Object(b.jsx)(I,{}),document.getElementById("root"))},35:function(e,c,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.11d01e84.chunk.js.map